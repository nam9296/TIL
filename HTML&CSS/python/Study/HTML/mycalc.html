<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>내가 만든 계산기</title>
    <script>
    window.onload=function(){
    //alert("window객체의 onload 함수에 대해 정의. 콜백함수 : 함수 이름이 on으로 시작.\n on상황():상황이(발생) 되었을때 자동호출");

    //btnSend(계산)버튼을 클릭하면 chkData함수를 호출해라
    document.getElementById("btnSend").onclick=chkData;
    }

    function chkData(){
    //alert("데이터 검증 함수가 호출됨");
    //검증하는 코드 작성

        if(frm.num1.value===""){
        alert("숫자1에 값을 입력하시오");
        frm.num1.focus();
        return;
    }

    // 숫자, 음수 기호, 소수점만 입력 가능하도록 정규식 정의
    var regEx1=/^[-]?\d*\.?\d*$/;
        if(!frm.num1.value.match(regEx1)){  //매치되지 않는다면
        alert("숫자만 입력하시오");
        frm.num1.value="";
        frm.num1.focus();
        return;
        }




    if(frm.num2.value===""){
        alert("숫자2에 값을 입력하시오");
        frm.num2.focus();
        return;
    }

        // 숫자, 음수 기호, 소수점만 입력 가능하도록 정규식 정의
    var regEx2=/^[-]?\d*\.?\d*$/;
        if(!frm.num2.value.match(regEx2)){  //매치되지 않는다면
        alert("숫자만 입력하시오");
        frm.num2.value="";
        frm.num2.focus();
        return;
        }

        var su1=frm.num1.value;
        var su2=frm.num2.value;

        isOpChecked=false;

        for(var i=0;i<frm.op.length;i++){
            if(frm.op[i].checked){
            //alert(i+"번째 버튼이 선택되어 있음");
                oper=frm.op[i].id;
                //alert(oper+" 연산자가 선택되어 있음");
                isOpChecked=true;
            }
        }
        if(!isOpChecked){
            alert("연산자를 선택해주세요");
            return;
        }

        if(oper==="add"){
        document.getElementById("res").value=eval(su1 + "+" + su2)

        }

        else if(oper==="sub") {
            if(su2>=0){
            document.getElementById("res").value
            =eval(su1 + "-" + su2)
            } else{
            document.getElementById("res").value
            =eval(su1 + "+" + "-1*"+su2)
            }
        }


        else if(oper==="mul"){
        document.getElementById("res").value=eval(su1 + "*" + su2)
        }

        else {
            if(su1==='0'){
                alert("0으로 나눌 수 없습니다");
                frm.num1.value="";
                frm.num1.focus();
                return;
            }
            if(su2==='0'){
                alert("0으로 나눌 수 없습니다");
                frm.num2.value="";
                frm.num2.focus();
                return;
            }
            frm.res.value=eval(su1 + "/" + su2)
        }







    }

    </script>

<!--    <script>
        function myfunc(){
        alert("호출됨");
        }
     window.onload=myfunc;
        </script>-->
</head>
<!--<body onload="myfunc();">-->
<body>
<form name="frm">
    <label>숫자1: <input type="text" id="num1"></label><br/>
    <label>숫자2: <input type="text" id="num2"></label><br/><br/>

    연산 :
    <label for="add">+</label><input type="radio" name="op" id="add">
    <label for="sub">-</label><input type="radio" name="op" id="sub">
    <label for="mul">*</label><input type="radio" name="op" id="mul">
    <label for="div">/</label><input type="radio" name="op" id="div">
<br>
    결과 : <input type="text" id="res" readonly="readonly"><br>
    <input type="button" value="계산" id="btnSend">
    <input type="reset" value="지우개" id="btnClear">
</form>
</body>
</html>